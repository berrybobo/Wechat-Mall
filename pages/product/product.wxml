<view class="detail" wx:if="{{product}}">
  <image class="hero-cover" src="{{product.cover}}" mode="aspectFill"></image>

  <view class="card main">
    <view class="title">{{product.title}}</view>
    <view class="subtitle">{{product.subtitle}}</view>
    <view class="price-line">
      <view class="price">¥{{product.formattedPrice}}</view>
      <text class="badge">门店现切</text>
    </view>
    <view class="desc">{{product.desc}}</view>
  </view>

  <view class="card spec-card">
    <view class="card-title">规格选择</view>
    <picker mode="selector" range="{{product.specs}}" bindchange="onSpecChange">
      <view class="selector">
        <text>{{spec}}</text>
        <text class="arrow">›</text>
      </view>
    </picker>
    <view class="hint">不同规格含量、丝带配色略有差异，均含手写贺卡</view>
  </view>

  <view class="card tags-card" wx:if="{{product.benefits && product.benefits.length}}">
    <view class="card-title">适合场景</view>
    <view class="chips">
      <text class="chip" wx:for="{{product.benefits}}" wx:key="*this">{{item}}</text>
    </view>
  </view>

  <view class="card pairing-card">
    <view class="card-title">美甲师搭配建议</view>
    <view class="pair-row">
      <view class="pair-label">推荐甲油</view>
      <view class="pair-value">{{product.pairing.nail}}</view>
    </view>
    <view class="pair-row">
      <view class="pair-label">礼盒搭配</view>
      <view class="pair-value">{{product.pairing.fruit}}</view>
    </view>
    <view class="pair-row note">
      <view class="pair-label">贴心提示</view>
      <view class="pair-value">{{product.pairing.note}}</view>
    </view>
  </view>

  <view class="card service-card">
    <view class="card-title">配送与售后</view>
    <block wx:for="{{product.service}}" wx:key="title">
      <view class="service-item">
        <view class="service-title">{{item.title}}</view>
        <view class="service-desc">{{item.detail}}</view>
      </view>
    </block>
  </view>

  <view class="actions">
    <view class="price-block">
      <view class="price">¥{{product.formattedPrice}}</view>
      <view class="spec-label">{{spec}}</view>
    </view>
    <view class="buttons">
      <button class="add-cart" bindtap="addToCart">加入购物车</button>
      <button class="buy-now" type="primary" bindtap="goCheckout">立即送礼</button>
    </view>
  </view>
</view>